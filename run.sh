#!/bin/bash

sudo pacman -Syu --noconfirm git openssl openssh

id_rsa_pub='U2FsdGVkX1+N7SoRfiBwfK+M2PzweIgYTshmBGyBSkl+Yj/eSC1xTeg1hX1LNIU/
94HwwtLgd1XZ6+0yTpivS9AHD+viuOsZ05ntSilZ0XvEn4QMANbuvNR8JQXyepE0
AXxHrKhbbf00zTYJ9AoReqUkFirUXOsG7grAfA5Az7GtjVhXjB4USqkuSQx/rLe3
Tgq1oaZPMllWLxK0snv9v2swLvL2+lcx929khPepmKMgs7DxtYmkWSYAcsqGk5qO
wo7TrnsvrRDOwTcfHP8JEMzIuCZc9dgQ4nz6xVGJNTNQAGyYAaP2i0mRQbIcDa9p
MozR6WiJx7Wcazx9u8DzkcnVTuiVVNcsKCx9UKLX8kyt9jWr322c7V4D94rzL9zf
K8ugCqEoxW73PAcbWZeBzNvRs5YWJoDGr+a6zwhlLsuUEMF+ikdLu6cD/tX7yoNG
gU0vNp6U7LnZFWUued7bWyUsnyxiaUXCzh1GrGWXFOWBr1OsFxSYq5MeeuBB7lCP
Izko/+cYnWyxpuMFcTXicNkW1MXeGIzoo+JF6Oc15UKeQg6QG7pgQA6u55xgphBs
jj151G7Wyn8sQo7msM6zVZlmz5t/PdFsgGYvEdpIl0lsbzfiYjG6dON4sHGVujqP
MgHE88u4+CsE28ujxv3wMSfibCr1UT6y6jogUjnLjXKYAlHu4RZQnBrl/gRV8c9Z
kc6G2BK+Jhi2Ue3JsQVY7XJPeEm39ZZ/fYzC5V51TJQ+IYBcNUd5u0oT5z3ORiak
V0mNdzVnHzNoFpXf7Bq70Zs0/HmLJ6v3SYmuNPhDp2QRcywSRAXGTUW5atPPWXfH
CHtIft6hHP2aoD/OXRycWvdGFBl5Ptu5xXJPoYGwYKcrsn3a9xMuwYPrXaGXU14N
Lo28v1WbO/m6vckPD9mvJVlHKHdf0kHJ6IwTy9JurLAebmOKXWwCODeLy7cM7jh4
KjrJq6d9Sq+h3Kv5yu0dwBvvTojjBKT8SoxA4uah+Q1v4RDownn7zQhl8NRfunYr'

id_rsa='U2FsdGVkX1+6RQHKz50xd/abm1d2ydC1eFQZZhZ1ZwXf6icjH6DLEdfIuJFl9Mfq
bzLD677ycLWHgZ6TQpZq4XccnXARxna+FlF5ULFQZnX8/H4ygXf2H49QoXM7Z6D+
Tj0wrk8BDstHgsa1hRi/U738+NQvOF7yLaLlp8IPDvfGFqLcchhGjPt5xYLp5T8f
4lQfSzq8y+y7yD34mKDKi43BxmjApNWz08r7CBh0YL/ejfnIJaiUsuT/WFKtCT3J
oUmj5DgNpfNdAoVg4cm2RBbBqRS2KyYwa1LB9cDFb/+Wi7rbUOC4kIot+kZF9HdV
9O43jTgp2hAKjWULY4IKvG1/CLxQ9RzDbtnbJdP3/+cIhfFIYXnoVRX8fVkoA0vS
zU6pbFtxDrJopm9tOjg8wJNDHU2DYBOGK7Y7owuXYUN7ch5hTud4NAmcx3ETP05P
QoUYQ0gAGJncBhB8E9inh7p1jQ8nyk6Ng7+LLXz9AYqkz8W91yg7csJ1bp56ULqm
82600WSlDCLTOy7ni3hhVs9fBR2avbxuuwdgNPDsGNxjtnzH//gTPqoSe+A7e3jf
LSt0fnFp6ykfu83SzRyYWni9garUaBvYCeBvnx8Y0d0dB212xuI9XcM98+1s074i
H+1AjR1rJ84VFVw0rUdZ/qHcLdDvHUjxN2bWOVzOcz2GiCRrLVcjmLlYnZ9T/ikS
6pEAGvGJeH7+9w7ax5r1k53/gh3kKQhJYbqdAM2Fzw+ROocuJR2UIgMdCbnQotGq
8u7d4HzIGW0qJpn6D4xbHLRlr9W29y/VvLDvxtjIB+IJiFfOa6QZeYQKEAlEE+Gm
Fw9/TdHO+ji8FfBpmfsfthmz/jWiOvUfWJIUBe7WSKv8MqXF2oCm3jExMdUZmJdH
2NgZkp+HRoJ1OG8agxj6Zze9529RkHZq443rxJ7Udr6vEa74II15tVOXfJU0qqWp
i+Ev1QF5/lZCQebpUSsZ+L7FSpHj5Tgi6AbIMxLVaVRZnLyvbw4SGTpwVW3/LQYJ
n/7AijMFsaTxmAH9XKcNLddsGYvhYxrRgW71CmGC3fV7R48aAvKrsn5IK5ZCMF1V
38mLz/EQpRCIBIUxn2fq4dSHvdRXrfkuig0kjR1qmNzW3V7dncwNkMrhi9N5oL0W
7Cj492w9P1mOeZX/lkmPv/mhoq3AUfEZjBNZ90UQyi55b4vCkNoiPUFqECTwEvdc
2wLL186+a0trmFAUkcFnzXhy+MAUf9sfbfg4S0wlfGmpjHbbb7gSX0ccwrGCGegm
F1s5UvorrSuYU17DlYFlNAIzS4QEH9hGVKyKQNsbaV30+dr25/I9UeWcHrvdfD05
gfZQRqzfoRAro4HYELrGMWhFtwfp22iqJN5Je/M1FEh/rgkIE1Vqsag66h6PnFrT
kXIUOoIUNt8IwWrpYFtX1cULhguy3rHTlDi5m1oj7rJ7kHiQnNsyhDBuG++UuVhS
MDBMEH+FIi9h4yirVarSyh5XppeUwnsn3huXErf5JWZhLrQ++2zTyPpYbkTpQEe9
efC5+lIU5E8k+b3PnDq9SiO2tHtOrubVnOsPaealh4i2tn30rtTyLrHFkqTOMiuJ
t4ihTUQJEr8ruOVBgX3wKHvDMsZsZemU7xxn0GZzDqEZj1P9IHjEyGsE1/xcBilS
7Xkg0I04AzPWmEmMtd0Z3rX95bz4TAg6GsSWe1gm51HHz1r8tOWglG4G5dXGiytR
EnecT0nwvc1GbaLcB5SCdt/2uJyk8NJD0kodk93o8t097SgeKqZ726cklV50khoy
MKKby/YDMxwLeCW45IptodeR+PmHohJvhSos6dsseNnmwyQ1voWMCxjWcQxjnNgY
Yn0OzsuUZgbd4EgljLzN6WNOswNoGhCr0mJUdI5fK08xTkv4Bcgb7BmgcOYms0bG
ga8wqfxJAwBu0ULHRa1zqB/qO5WsNTq/imbxVdv8uzeUeLgJAzk5og9q7RgrJhiK
8IGX4XZXfnHD2r69MiQzdnW2pZ83Q9tVDbj9bOMe2XZEsh/rAfhE3caciibk5bQW
wT+ZCatoE2PTcooieKFnROQKqVE/6dlF1IaF1cQCnxAB+zoyAChQPi0p76rK/g0t
/GilLYxpYYy9rVDlZPXm/seol9rJ5g+BKzDLm4M+f/97cuWUC+99B9BN51GMdWde
hPX9HrJzHhTiyGTisovh3/+0aa6MqZIu0Ze63lrttkTwpWXydXbfnSEFAKN+83ys
iTMbt9JLA+vk/iHZs3fKAWNuBZDcXQXmZ+zvtDYLDvFK4tI7AMsXIsEh0j4lk4T3
8wzb+8DjEJwuEsMRP/gx+sLMANmEYZZySbK7LI4qIRZUYJhDVOZHP8GvxQlkjbri
3gMYXgfoX/Pxr98/DX2wFgMxXJFgzWc08VOzdDHM3WnLaHMYzZ4cmnBQkIgS0wLQ
5iy56zOlXSVLZSfVvrB9SevO8/QFkWP7GxAmHPvT666dQzCRwzn8x/IYEmGioCHX
/uUpea9u75pYgBeaAubrggHHciJ69fmOliaF+8NoJALjDjNAIQnlLbmbvg2AJduO
Chjt/VwqesrVKD/pHgTY5cfFeZolBNK6BX6ETviZ3iARJZwvN3VgT1WAYn1r4Dvn
hq0dj5Sbz7XmHM7wIIM6sZlb9wzIbeXPJbfZcwEtrTn/IFQU4AXUnJSdkKSI7upn
w68HGxWBN/jtFXKvW/PziHYwA1AUCBpUiwY5V9J3PrTHfjSr7VWv0MZqWOyHf+VB
fA9+S1Vq0ec3wnrTvzKEniIvudLax0c5y1UaKA59LjiWr/TUOU47f85uM2vBRY5+
7yMfaLPmxU0w92CPAK17wznvqJ9hH6pN0rUC6U4kiVufSaT2UipIp9SAZqMJ4yyl
ZSsfxOtkUnUt6rN4s6uQJGW3DgHLt1x0lMTbR/3kzSTLdScsOSlkK5ujT9Ir7tca
zZbv0EejcZ2GkFZgcqnqIRPwvAdsjl2OPrabbs6XqA6qHs9lNEy5JRciaAkQ4Y/s
0TWolpvYx6AngMcwKsqYrGI0T46DfZDvr/QUfKdhR5cjgabaLXWn1RRvE9o6LAc1
Rzjx7THWWjLaYB+on+TVFFavZMYPXyupq/Q+pD0kp78104+RstmTe2xaIozlwX+w
z8hPxyiTCCCOzs4XlJAqADmVtYD3WkX+EMNI42OoT0Fjtdrr8orQRqR+lCrCv5GI
uQZkzKMJcWZFPD+GEk2e1ldrb9D+rUMVMX4zg79VaQoYJFCcKQpGpkRa7j8ZFGWg
4qwfa9RmLuMA+5z6kNhzRq3JNlabg+eE7zQCNk9YZG53mcu7wNIJt34z2VOKzOMh
53WEQ0bwP+FODkVbpiNJBEYwCKm5lQP+ySadJTjT8a6aIknVTy5Ol4WIFbVSip1k
E8QW+cn0kjovsFzf2tYTeXk43iYPqUv4fN298N52Yv33yby16xGg5g6vhiIf8ItC
8VElYCMo35qfvZMO8UZRHmgwYx+jAqnU0S46kVKUwDP8MKbL5qA1zkQ6Hu4989oK
BiUsoIUkPS1VxlSUGaV/GtEs4ccS3KjFhGCpEJMKHWzkwGgTP8O/xFo5IyFwWQ3z
a3XFNFIrw1qatvGDEIPPhFV6w5W6PrDU8mrZKG1b5eNz2bVzmECqEg/+S+2eNlyS
y01QkTDhx6Ek3c6DjwlA29c7Sn1qA1lgCQAu4baXj2BTdPEer8J7HuPDPkESH9sA
SflJfDMvhZqhQ8Sx7oqRvaUaW6vDbFcChGv1hdn+JG65icvbe77GbqXh4lERtor/
12jDz5I+M9nSmFIUUR23XHBQNHvIbUVzHE5isfnPd9lk90sIhdwOMVov950QKmHg
TnFOv+ARJv8xqskCftuy709yjZeUS7GSGAWbXwlrXBSrggUt1Sw8SgKiv+tIem3n
p68tYayNBdy+5OhFjEIBxOeXU2g8zWOD5Y69xhvTdm1YPQTataxzz6mN2FRYvWDe
e/JIBiIWr82VNvGJI/8/0t4i6i8FsRAXfC0s+hOqkdIWz2YiFouBe2ruL1J4K85b
vfLB6mFaNJaIqTNpE7oHx1KsBh3o0ZlUbcJeiRSQNtwAwEvI8qtGOEkG7irLCa+u
lKE4FwBXc7BxAbNoPrXnt/XFDMvgOCio6dLZD9JpkfmfBx98u0I5eld1oSfVrtQa
pOOxFFHkgPSkAgGcBfx28xrAN2EMjs+1uI25L56FonSVIc97J2y994DYq8oqaLBw
h3bO0g3Pp+AFlSS7rrbWSdsUMIqgdzltsRmVjJolzIvLa46SCujmv010RGjADR2F
e6dnVmtzBNbj9Io7B3eHK/0Zd6LC5tXVfubzsWoXbzCRdC1jqzehp6nZpVGJ+gm8
Ovmf1FRb2nadF95IAjEt2jrN4zQ4Q6QqyfjSSRo3B8mo8PaNxSMxcjkGmsH2wBNa
BHv6qmExCtJF3SGExVt53rykY/7ic7Lr81VD/IaS3U3e/mswvbaKnG0AaeeH5q3E
OhKiAHS6giBtR0Vc9/D+r+gWZNSHU7mwuqavK1V2QKYD9rIGFKihoaxZ3h9nwL/1'

echo waddup
echo "Enter password for decrypting secrets:"
read -s passK

eval $(ssh-agent)

mkdir -p ~/.ssh

echo "$id_rsa_pub" | openssl enc -aes-256-cbc -d -salt -pass pass:$passK  -pbkdf2 -a > ~/.ssh/id_rsa.pub

echo "$id_rsa" | openssl enc -aes-256-cbc -d -salt -pass pass:$passK  -pbkdf2 -a > ~/.ssh/id_rsa

chmod 700 ~/.ssh
chmod 600 ~/.ssh/id_rsa
chmod 644 ~/.ssh/id_rsa.pub

ssh-add ~/.ssh/id_rsa

mkdir -p code
cd code
git clone git@github.com:Stianlyng/archinstall.git
cd archinstall
./install.sh
